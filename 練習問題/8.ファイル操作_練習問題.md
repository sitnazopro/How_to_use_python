# 練習問題：ファイル操作

このファイルでは、「8.ファイル操作.md」で学んだファイルの読み書きについて、いくつかの問題に挑戦してみましょう。

---

### 問題1：自己紹介ファイルを作る

1. `input()` を使って、ユーザーに自分の名前を尋ねてください。
2. 入力された名前を `user_name.txt` というファイルに書き込んでください。ファイルが存在しない場合は新規作成され、存在する場合は上書きされるモード (`'w'`) を使います。
3. 書き込みが終わったら、「ファイルに名前を保存しました。」と表示してください。

---

### 問題2：ファイルから名前を読み込む

1. 問題1で作成した `user_name.txt` を読み込みモード (`'r'`) で開いてください。
2. ファイルから名前を読み取り、`「こんにちは、○○さん！」` という形式で画面に表示してください。
3. もし `user_name.txt` が存在しない場合に `FileNotFoundError` が発生します。`try...except` を使ってこのエラーを捕捉し、「`user_name.txt` が見つかりません。先に問題1を実行してください。」と表示するようにしてください。

---

### 問題3：買い物リストへの追記

1. `shopping_list.txt` という名前のファイルに、ユーザーが入力した買いたいものを追記していくプログラムを作成します。
2. `input()` を使って、ユーザーに「買い物リストに追加する項目を入力してください（終了するには'end'と入力）：」と尋ねます。
3. ユーザーが `'end'` と入力するまで、入力された項目を `shopping_list.txt` に追記 (`'a'` モード) し続けてください。各項目は改行して保存されるようにします。
4. `while` ループを使うと、繰り返し入力を受け付けることができます。


---

## 解答例

<details>
<summary>ここをクリックすると解答例が表示されます</summary>

### 問題1
```python
# 1. ユーザーに名前を尋ねる
name = input("あなたのお名前は？: ")

# 2. ファイルに書き込む
with open("user_name.txt", "w", encoding="utf-8") as f:
    f.write(name)

# 3. 完了メッセージ
print("ファイルに名前を保存しました。")
```

### 問題2
```python
try:
    # 1. ファイルを開く
    with open("user_name.txt", "r", encoding="utf-8") as f:
        # 2. 読み込んで表示
        name = f.read()
        print(f"こんにちは、{name}さん！")
except FileNotFoundError:
    # 3. エラー処理
    print("user_name.txt が見つかりません。先に問題1を実行してください。")
```

### 問題3
```python
# shopping_list.txt を追記モードで開く
with open("shopping_list.txt", "a", encoding="utf-8") as f:
    while True:
        # 2. ユーザーに入力を促す
        item = input("買い物リストに追加する項目を入力してください（終了するには'end'と入力）：")

        # 3. 'end'ならループを抜ける
        if item == 'end':
            break
        
        # 3. ファイルに追記（改行を忘れずに）
        f.write(item + "\n")

print("買い物リストを更新しました。")
```

</details>
