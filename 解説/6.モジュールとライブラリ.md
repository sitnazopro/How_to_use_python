# Pythonの応用：モジュールとライブラリ

Pythonの大きな強みの一つは、豊富な「モジュール」と「ライブラリ」が利用できることです。これらを活用することで、複雑な機能も簡単に実装できます。

---

## 1. モジュール (Module)

**モジュール**とは、関数やクラス、変数などをまとめたPythonファイル (`.py` ファイル) のことです。関連する機能を1つのファイルにまとめておくことで、他のプログラムから再利用することができます。

### `import` 文

モジュールを利用するには `import` 文を使います。

**構文1: モジュール全体をインポート**
```python
import モジュール名
```
この方法では、モジュール内の関数などを使う際に `モジュール名.関数名()` のように記述します。

**例: `math` モジュール**
`math` は、数学的な計算を行うための関数が詰まった、Pythonに標準で付属しているモジュールです。

```python
import math

# mathモジュールの中の pi (円周率) という変数を使う
print(math.pi)  # => 3.141592653589793

# mathモジュールの中の sqrt (平方根) という関数を使う
print(math.sqrt(16))  # => 4.0
```

**構文2: モジュールから特定の機能だけをインポート**
```python
from モジュール名 import 機能名1, 機能名2
```
この方法では、`モジュール名.` を付けずに直接 `関数名()` のように使えます。

```python
from math import pi, sqrt

print(pi)         # math. を付けずに使える
print(sqrt(16))
```

**構文3: モジュールに別名（エイリアス）を付ける**
モジュール名が長い場合などに `as` を使って別名を付けると便利です。

```python
import math as m

print(m.pi)
print(m.sqrt(16))
```

---

## 2. ライブラリ (Library)

**ライブラリ**とは、複数のモジュールをまとめたものです。特定の目的（例：データ分析、ウェブ開発、画像処理など）に関連する、より大きな機能の集まりを指すことが一般的です。

-   **標準ライブラリ:**
    Pythonをインストールしたときに一緒にインストールされるライブラリ群です。`math` や `datetime` (日付や時刻を扱う)、`os` (OSの機能を使う) など、多くの便利な機能が含まれており、`import` するだけでいつでも使えます。

-   **サードパーティライブラリ (外部ライブラリ):**
    世界中の開発者によって作成され、公開されているライブラリです。これらを使うには、別途インストール作業が必要です。

### 仮想環境 (Virtual Environment) のすすめ
サードパーティライブラリをインストールする前に、**仮想環境**を作成することを強く推奨します。

**仮想環境とは？**
プロジェクトごとに独立したPython実行環境を用意する仕組みです。仮想環境を使うと、あるプロジェクトでインストールしたライブラリが、他のプロジェクトに影響を与えるのを防ぐことができます。

例えば、プロジェクトAではライブラリXのバージョン1.0が必要で、プロジェクトBではバージョン2.0が必要、といった場合に、それぞれの仮想環境に適切なバージョンをインストールすることで、競合を防ぎます。

**仮想環境の作成と利用**
Python 3.3以降では、`venv` というモジュールが標準で付属しており、簡単に仮想環境を作成できます。

1.  **作成**
    コマンドプロンプトやターミナルで、プロジェクトのフォルダに移動し、以下のコマンドを実行します。`venv` の部分が仮想環境を管理するフォルダ名になります（好きな名前に変更可能）。
    ```sh
    # "venv" という名前の仮想環境を作成
    python -m venv venv
    ```
    実行すると、`venv` というフォルダが作成されます。

2.  **有効化 (Activate)**
    作成した仮想環境を利用するには、「有効化」する必要があります。
    ```sh
    # Windowsの場合
    .\venv\Scripts\activate
    ```
    有効化されると、コマンドプロンプトの行頭に `(venv)` のように環境名が表示されます。

3.  **ライブラリのインストール**
    この状態で `pip install` を実行すると、ライブラリはグローバルな環境ではなく、現在有効になっている仮想環境（この例では `venv` フォルダ）の中にインストールされます。

4.  **無効化 (Deactivate)**
    仮想環境での作業が終わったら、以下のコマンドで無効化できます。
    ```sh
    deactivate
    ```
    行頭の `(venv)` が消え、元の環境に戻ります。

プロジェクトを始める際には、まず仮想環境を作成・有効化してからライブラリをインストールする、という習慣をつけましょう。

### `pip` コマンドによるインストール

サードパーティライブラリのインストールには、**`pip`** というパッケージ管理ツールを使います。通常、Pythonと一緒にインストールされます。

コマンドプロンプトやターミナルで以下のコマンドを実行します。

```sh
# ライブラリをインストールする
pip install ライブラリ名

# 例: データ分析でよく使われる NumPy というライブラリをインストール
pip install numpy

# 例: ウェブサイトから情報を取得するのに便利な Requests というライブラリをインストール
pip install requests
```

インストールが完了すれば、標準ライブラリと同じように `import` して使うことができます。

```python
# インストール後にPythonファイルでインポート
import numpy as np

# NumPyの配列を作成
a = np.array([1, 2, 3, 4, 5])
print(a)

# NumPyの便利な関数 (平均を計算)
print(np.mean(a)) # => 3.0
```

### 代表的なサードパーティライブラリ

-   **NumPy:** 高速な数値計算（配列計算など）
-   **Pandas:** データ分析、データ操作（CSVファイルの読み込みなど）
-   **Matplotlib:** データのグラフ化
-   **Requests:** HTTP通信（ウェブサイトの情報取得など）
-   **Django, Flask:** ウェブアプリケーション開発
-   **Pillow:** 画像処理

これらのライブラリを使いこなすことで、Pythonでできることの幅が大きく広がります。
